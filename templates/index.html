<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Chat</title>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<style>
body{background:#111;color:#fff;font-family:Arial;display:flex;justify-content:center}
#chat{width:400px;margin-top:40px;background:#1e1e1e;padding:15px;border-radius:10px}
#messages{height:300px;overflow-y:auto;border:1px solid #333;padding:5px;margin-bottom:10px}
input,button{width:100%;padding:8px;margin-top:5px}
button{background:#4caf50;border:none;color:white}
</style>
</head>
<body>
<div id="chat">
<h2>ðŸ’¬ Mon WebChat</h2>
<div id="messages"></div>
<input id="username" placeholder="Pseudo">
<input id="message" placeholder="Message..." onkeypress="if(event.key==='Enter')sendMessage()">
<button onclick="sendMessage()">Envoyer</button>
</div>

<script>
const socket = io();
const messages = document.getElementById('messages');

socket.on('message', msg => {
  const p = document.createElement('p');
  p.textContent = msg;
  messages.appendChild(p);
  messages.scrollTop = messages.scrollHeight;
});

function sendMessage(){
  const user = username.value || "Anonyme";
  const msg = message.value;
  if(msg.trim()!==""){
    socket.send(user+" : "+msg);
    message.value="";
  }
}
</script>
</body>
</html>
